{"version":3,"sources":["server.js"],"names":["express","require","sqlite3","verbose","port","app","Database","err","console","error","message","run","db","use","json","req","res","post","get","row","count","listen","log"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,QAAUD,QAAQ,WAAWE,UAD7BH,IAAOA,UAGPI,KAAO,IADPC,GAAML,IAAAA,QAAZM,SAAA,WAAA,SAAAC,GACUA,EAKFC,QAAQC,MAAMF,EAAIG,SADlBH,GAAKI,IAAA,2CAAA,SAAAJ,GACGE,EACLD,QAAAC,MAAAF,EAAAG,SAEUE,GAAAD,IAAA,kDAMhBN,IAAAQ,IAAAb,QAAA,OAAA,WACJK,IAZDQ,IAAAb,QAAAc,QAeAT,IAAIQ,KAAIb,aAAR,SAAAe,EAAAC,GAEIC,GAAAA,IAAK,2CAA4B,SAAAV,GACjC,GAAOA,EACH,OAASC,QAAAC,MAAAF,EAAAG,SAERE,GAAAM,IAAA,gCAAA,SAAAX,EAAAY,GAEG,GAAIZ,EADD,OAAAC,QAAAC,MAAAF,EAAAG,SAECM,EAAOR,KAAAA,CAAQC,MAAMF,EAAIG,cAEpBL,IAAAa,IAAT,SAAA,SAAAH,EAAAC,GACHJ,GALDM,IAAA,gCAAA,SAAAX,EAAAY,GAJJ,GAAAZ,EADJ,OAAAC,QAAAC,MAAAF,EAAAG,SAeIM,EAAOF,KAAA,CAAAM,MAAAD,EAAAC,YAQXf,IAAIgB,OAAOjB,KAAM,WAJTY,QAAAM,IAAAN,wBAAAA,OAASZ,KAATY","file":"server.min.js","sourcesContent":["const express = require('express');\r\nconst sqlite3 = require('sqlite3').verbose();\r\nconst app = express();\r\nconst port = 3000;\r\n\r\n// SQLite 데이터베이스 연결\r\nconst db = new sqlite3.Database(':memory:', (err) => {\r\n    if (err) {\r\n        console.error(err.message);\r\n    } else {\r\n        db.run('CREATE TABLE click_count (count INTEGER)', (err) => {\r\n            if (err) {\r\n                console.error(err.message);\r\n            } else {\r\n                db.run('INSERT INTO click_count (count) VALUES (0)');\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\napp.use(express.static('public'));\r\napp.use(express.json());\r\n\r\napp.post('/increment', (req, res) => {\r\n    db.run('UPDATE click_count SET count = count + 1', function(err) {\r\n        if (err) {\r\n            return console.error(err.message);\r\n        }\r\n        db.get('SELECT count FROM click_count', (err, row) => {\r\n            if (err) {\r\n                return console.error(err.message);\r\n            }\r\n            res.json({ count: row.count });\r\n        });\r\n    });\r\n});\r\n\r\napp.get('/count', (req, res) => {\r\n    db.get('SELECT count FROM click_count', (err, row) => {\r\n        if (err) {\r\n            return console.error(err.message);\r\n        }\r\n        res.json({ count: row.count });\r\n    });\r\n});\r\n\r\napp.listen(port, () => {\r\n    console.log(`서버가 http://localhost:${port}에서 실행 중입니다.`);\r\n});\r\n"]}